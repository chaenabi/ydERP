<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="sales">

	<!-- 판매 내역 전체 조회 -->
	<select id="getSaleList" resultType="sales">
		SELECT *
		FROM SALES 
	</select> 

	<!-- 판매 내역 상세 조회 -->
	<select id="getSaleDetail" resultType="saleDetails">
		<![CDATA[
		SELECT * 
		FROM SALE_DETAILS 
		]]>
		<where>
		SALE_CODE = 
		
		</where>
	</select>	

	<!-- 판매 내역 등록 : 판매 정보 -->
	<insert id="insertSaleMaster" parameterType="sales">
	
		INSERT INTO SALES
		(
			SALE_CODE
			, SALE_DATE
			, CUSTOMER_CODE
			, SALE_COST
			, DELIVERY_ADDR
			, DELIVERY_EMP
			, DELIVERY_STATUS
			, PAY_STATUS
			, WAREHOUSE
			, ORDER_PERMIT
		)
		VALUES
		(
			#{saleCode}
			, SYSDATE
			, #{customerCode}
			, #{saleCost}
			, #{deliveryAddr}
			, #{deliveryEmp}
			, #{deliveryStatus}
			, #{payStatus}
			, #{warehouse}
			, #{orderPermit}
		)
			
	</insert>

	<!-- 판매 내역 등록 : 판매 상세 정보 -->
	<insert id="insertSaleDetail" parameterType="saleDetails">
		INSERT INTO SALE_DETAILS
		(
			SALE_DETAIL_CODE
			, SALE_CODE
			, SALE_ITEM
			, SALE_QTY
		)
		VALUES
		(
			#{saleDetailCode}
			, #{saleCode}
			, #{saleItem}
			, #{saleQty}
		)
	</insert>

</mapper>